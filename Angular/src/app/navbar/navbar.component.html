<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" routerLink="/">VISUOFILMS</a>
    <button (click)="toggleCollapse()" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-nav" aria-controls="main-nav" [attr.aria-expanded]="!isCollapsed" aria-label="Ouvrir / fermer le menu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="main-nav" [ngbCollapse]="isCollapsed">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: true}">
          <a routerLink="/catalog" class="nav-link">Catalogue</a>
        </li>
        <li class="nav-item"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: true}">
          <a routerLink="/realisateurs" class="nav-link">Realisateurs</a>
        </li>
      </ul>

      <ul class="navbar-nav">
        <li class="nav-item"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: true}">
          <a routerLink="/cart" class="nav-link"><span class="oi oi-cart"></span> Panier</a>
        </li>

        <ng-container *ngIf="loggedInUser; then userNav; else anonymousNav"></ng-container>

        <!--
          Liens à afficher lorsque le client est connecté.
        -->
        <ng-template #userNav>
          <li class="nav-item"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{exact: true}">
            <a routerLink="/account" class="nav-link">Votre compte</a>
          </li>
        </ng-template>

        <!--
          Liens à afficher pour un visiteur anonyme.
        -->
        <ng-template #anonymousNav>
          <li class="nav-item"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{exact: true}">
            <a routerLink="/connect" class="nav-link">Identifiez-vous</a>
          </li>
        </ng-template>
      </ul>

    </div>
  </div>
</nav>
